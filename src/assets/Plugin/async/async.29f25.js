(function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(t.async={})})(this,function(t){"use strict";function r(t,...r){return(...e)=>t(...r,...e)}function e(t){return function(...r){var e=r.pop();return t.call(this,r,e)}}var n="function"==typeof setImmediate&&setImmediate,i="object"==typeof process&&"function"==typeof process.nextTick;function u(t){setTimeout(t,0)}function a(t){return(r,...e)=>t(()=>r(...e))}var o=a(n?setImmediate:i?process.nextTick:u);function c(t){return l(t)?function(...r){const e=r.pop();return s(t.apply(this,r),e)}:e(function(r,e){var n;try{n=t.apply(this,r)}catch(i){return e(i)}if(n&&"function"==typeof n.then)return s(n,e);e(null,n)})}function s(t,r){return t.then(t=>{f(r,null,t)},t=>{f(r,t&&t.message?t:new Error(t))})}function f(t,r,e){try{t(r,e)}catch(n){o(t=>{throw t},n)}}function l(t){return"AsyncFunction"===t[Symbol.toStringTag]}function h(t){return"AsyncGenerator"===t[Symbol.toStringTag]}function p(t){return"function"==typeof t[Symbol.asyncIterator]}function y(t){if("function"!=typeof t)throw new Error("expected a function");return l(t)?c(t):t}function v(t,r=t.length){if(!r)throw new Error("arity is undefined");function e(...e){return"function"==typeof e[r-1]?t.apply(this,e):new Promise((n,i)=>{e[r-1]=(t,...r)=>{if(t)return i(t);n(r.length>1?r:r[0])},t.apply(this,e)})}return Object.defineProperty(e,"name",{value:`awaitable(${t.name})`}),e}function m(t){return function(r,...e){return v(function(n){var i=this;return t(r,(t,r)=>{y(t).apply(i,e.concat(r))},n)})}}function d(t,r,e,n){r=r||[];var i=[],u=0,a=y(e);return t(r,(t,r,e)=>{var n=u++;a(t,(t,r)=>{i[n]=r,e(t)})},t=>{n(t,i)})}function g(t){return t&&"number"==typeof t.length&&t.length>=0&&t.length%1==0}const b={};function S(t){function r(...r){if(null!==t){var e=t;t=null,e.apply(this,r)}}return Object.assign(r,t),r}function w(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}function k(t){var r=-1,e=t.length;return function(){return++r<e?{value:t[r],key:r}:null}}function E(t){var r=-1;return function(){var e=t.next();return e.done?null:(r++,{value:e.value,key:r})}}function L(t){if(g(t))return k(t);var r,e,n,i,u=w(t);return u?E(u):(e=(r=t)?Object.keys(r):[],n=-1,i=e.length,function(){var t=e[++n];return n<i?{value:r[t],key:t}:null})}function A(t){return function(...r){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,r)}}function j(t,r,e,n){let i=!1,u=!1,a=!1,o=0,c=0;function s(){o>=r||a||i||(a=!0,t.next().then(({value:t,done:r})=>{if(!u&&!i){if(a=!1,r)return i=!0,void(o<=0&&n(null));o++,e(t,c,f),c++,s()}}).catch(l))}function f(t,r){if(o-=1,!u)return t?l(t):!1===t?(i=!0,void(u=!0)):r===b||i&&o<=0?(i=!0,n(null)):void s()}function l(t){u||(a=!1,i=!0,n(t))}s()}var x=t=>(r,e,n)=>{if(n=S(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!r)return n(null);if(h(r))return j(r,t,e,n);if(p(r))return j(r[Symbol.asyncIterator](),t,e,n);var i=L(r),u=!1,a=!1,o=0,c=!1;function s(t,r){if(!a)if(o-=1,t)u=!0,n(t);else if(!1===t)u=!0,a=!0;else{if(r===b||u&&o<=0)return u=!0,n(null);c||f()}}function f(){for(c=!0;o<t&&!u;){var r=i();if(null===r)return u=!0,void(o<=0&&n(null));o+=1,e(r.value,r.key,A(s))}c=!1}f()},O=v(function(t,r,e,n){return x(r)(t,y(e),n)},4);function _(t,r,e){e=S(e);var n=0,i=0,{length:u}=t,a=!1;function o(t,r){!1===t&&(a=!0),!0!==a&&(t?e(t):++i!==u&&r!==b||e(null))}for(0===u&&e(null);n<u;n++)r(t[n],n,A(o))}function I(t,r,e){return O(t,1/0,r,e)}var T=v(function(t,r,e){return(g(t)?_:I)(t,y(r),e)},3),B=v(function(t,r,e){return d(T,t,r,e)},3),F=m(B),M=v(function(t,r,e){return O(t,1,r,e)},3),C=v(function(t,r,e){return d(M,t,r,e)},3),P=m(C);const z=Symbol("promiseCallback");function D(){let t,r;function e(e,...n){if(e)return r(e);t(n.length>1?n:n[0])}return e[z]=new Promise((e,n)=>{t=e,r=n}),e}function V(t,r,e){"number"!=typeof r&&(e=r,r=null),e=S(e||D());var n=Object.keys(t).length;if(!n)return e(null);r||(r=n);var i={},u=0,a=!1,o=!1,c=Object.create(null),s=[],f=[],l={};function h(t,r){s.push(()=>d(t,r))}function p(){if(!a){if(0===s.length&&0===u)return e(null,i);for(;s.length&&u<r;)s.shift()()}}function v(t,r){var e=c[t];e||(e=c[t]=[]),e.push(r)}function m(t){(c[t]||[]).forEach(t=>t()),p()}function d(t,r){if(!o){var n=A((r,...n)=>{if(u--,!1!==r)if(n.length<2&&([n]=n),r){var s={};if(Object.keys(i).forEach(t=>{s[t]=i[t]}),s[t]=n,o=!0,c=Object.create(null),a)return;e(r,s)}else i[t]=n,m(t);else a=!0});u++;var s=y(r[r.length-1]);r.length>1?s(i,n):s(n)}}function g(r){var e=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)&&i.indexOf(r)>=0&&e.push(n)}),e}return Object.keys(t).forEach(r=>{var e=t[r];if(!Array.isArray(e))return h(r,[e]),void f.push(r);var n=e.slice(0,e.length-1),i=n.length;if(0===i)return h(r,e),void f.push(r);l[r]=i,n.forEach(u=>{if(!t[u])throw new Error("async.auto task `"+r+"` has a non-existent dependency `"+u+"` in "+n.join(", "));v(u,()=>{0==--i&&h(r,e)})})}),function(){for(var t=0;f.length;)t++,g(f.pop()).forEach(t=>{0==--l[t]&&f.push(t)});if(t!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),p(),e[z]}var q=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,R=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,U=/,/,Q=/(=.+)?(\s*)$/,N=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function $(t){const r=t.toString().replace(N,"");let e=r.match(q);if(e||(e=r.match(R)),!e)throw new Error("could not parse args in autoInject\nSource:\n"+r);let[,n]=e;return n.replace(/\s/g,"").split(U).map(t=>t.replace(Q,"").trim())}function G(t,r){var e={};return Object.keys(t).forEach(r=>{var n,i=t[r],u=l(i),a=!u&&1===i.length||u&&0===i.length;if(Array.isArray(i))n=[...i],i=n.pop(),e[r]=n.concat(n.length>0?o:i);else if(a)e[r]=i;else{if(n=$(i),0===i.length&&!u&&0===n.length)throw new Error("autoInject task functions require explicit parameters.");u||n.pop(),e[r]=n.concat(o)}function o(t,r){var e=n.map(r=>t[r]);e.push(r),y(i)(...e)}}),V(e,r)}class W{constructor(){this.head=this.tail=null,this.length=0}removeLink(t){return t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev,t.prev=t.next=null,this.length-=1,t}empty(){for(;this.head;)this.shift();return this}insertAfter(t,r){r.prev=t,r.next=t.next,t.next?t.next.prev=r:this.tail=r,t.next=r,this.length+=1}insertBefore(t,r){r.prev=t.prev,r.next=t,t.prev?t.prev.next=r:this.head=r,t.prev=r,this.length+=1}unshift(t){this.head?this.insertBefore(this.head,t):H(this,t)}push(t){this.tail?this.insertAfter(this.tail,t):H(this,t)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var t=this.head;t;)yield t.data,t=t.next}remove(t){for(var r=this.head;r;){var{next:e}=r;t(r)&&this.removeLink(r),r=e}return this}}function H(t,r){t.length=1,t.head=t.tail=r}function J(t,r,e){if(null==r)r=1;else if(0===r)throw new RangeError("Concurrency must not be zero");var n=y(t),i=0,u=[];const a={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function c(t,r){a[t].push(r)}function s(t,r){const e=(...n)=>{f(t,e),r(...n)};a[t].push(e)}function f(t,r){return t?r?void(a[t]=a[t].filter(t=>t!==r)):a[t]=[]:Object.keys(a).forEach(t=>a[t]=[])}function l(t,...r){a[t].forEach(t=>t(...r))}var h=!1;function p(t,r,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");var i,u;function a(t,...r){return t?e?u(t):i():r.length<=1?i(r[0]):void i(r)}b.started=!0;var c={data:t,callback:e?a:n||a};if(r?b._tasks.unshift(c):b._tasks.push(c),h||(h=!0,o(()=>{h=!1,b.process()})),e||!n)return new Promise((t,r)=>{i=t,u=r})}function v(t){return function(r,...e){i-=1;for(var n=0,a=t.length;n<a;n++){var o=t[n],c=u.indexOf(o);0===c?u.shift():c>0&&u.splice(c,1),o.callback(r,...e),null!=r&&l("error",r,o.data)}i<=b.concurrency-b.buffer&&l("unsaturated"),b.idle()&&l("drain"),b.process()}}function m(t){return!(0!==t.length||!b.idle()||(o(()=>l("drain")),0))}const d=t=>r=>{if(!r)return new Promise((r,e)=>{s(t,(t,n)=>{if(t)return e(t);r(n)})});f(t),c(t,r)};var g=!1,b={_tasks:new W,*[Symbol.iterator](){yield*b._tasks[Symbol.iterator]()},concurrency:r,payload:e,buffer:r/4,started:!1,paused:!1,push(t,r){if(Array.isArray(t)){if(m(t))return;return t.map(t=>p(t,!1,!1,r))}return p(t,!1,!1,r)},pushAsync(t,r){if(Array.isArray(t)){if(m(t))return;return t.map(t=>p(t,!1,!0,r))}return p(t,!1,!0,r)},kill(){f(),b._tasks.empty()},unshift(t,r){if(Array.isArray(t)){if(m(t))return;return t.map(t=>p(t,!0,!1,r))}return p(t,!0,!1,r)},unshiftAsync(t,r){if(Array.isArray(t)){if(m(t))return;return t.map(t=>p(t,!0,!0,r))}return p(t,!0,!0,r)},remove(t){b._tasks.remove(t)},process(){if(!g){for(g=!0;!b.paused&&i<b.concurrency&&b._tasks.length;){var t=[],r=[],e=b._tasks.length;b.payload&&(e=Math.min(e,b.payload));for(var a=0;a<e;a++){var o=b._tasks.shift();t.push(o),u.push(o),r.push(o.data)}i+=1,0===b._tasks.length&&l("empty"),i===b.concurrency&&l("saturated");var c=A(v(t));n(r,c)}g=!1}},length:()=>b._tasks.length,running:()=>i,workersList:()=>u,idle:()=>b._tasks.length+i===0,pause(){b.paused=!0},resume(){!1!==b.paused&&(b.paused=!1,o(b.process))}};return Object.defineProperties(b,{saturated:{writable:!1,value:d("saturated")},unsaturated:{writable:!1,value:d("unsaturated")},empty:{writable:!1,value:d("empty")},drain:{writable:!1,value:d("drain")},error:{writable:!1,value:d("error")}}),b}function K(t,r){return J(t,1,r)}function X(t,r,e){return J(t,r,e)}var Y=v(function(t,r,e,n){n=S(n);var i=y(e);return M(t,(t,e,n)=>{i(r,t,(t,e)=>{r=e,n(t)})},t=>n(t,r))},4);function Z(...t){var r=t.map(y);return function(...t){var e=this,n=t[t.length-1];return"function"==typeof n?t.pop():n=D(),Y(r,t,(t,r,n)=>{r.apply(e,t.concat((t,...r)=>{n(t,r)}))},(t,r)=>n(t,...r)),n[z]}}function tt(...t){return Z(...t.reverse())}var rt=v(function(t,r,e,n){return d(x(r),t,e,n)},4),et=v(function(t,r,e,n){var i=y(e);return rt(t,r,(t,r)=>{i(t,(t,...e)=>t?r(t):r(t,e))},(t,r)=>{for(var e=[],i=0;i<r.length;i++)r[i]&&(e=e.concat(...r[i]));return n(t,e)})},4),nt=v(function(t,r,e){return et(t,1/0,r,e)},3),it=v(function(t,r,e){return et(t,1,r,e)},3);function ut(...t){return function(...r){return r.pop()(null,...t)}}function at(t,r){return(e,n,i,u)=>{var a,o=!1;const c=y(i);e(n,(e,n,i)=>{c(e,(n,u)=>n||!1===n?i(n):t(u)&&!a?(o=!0,a=r(!0,e),i(null,b)):void i())},t=>{if(t)return u(t);u(null,o?a:r(!1))})}}var ot=v(function(t,r,e){return at(t=>t,(t,r)=>r)(T,t,r,e)},3),ct=v(function(t,r,e,n){return at(t=>t,(t,r)=>r)(x(r),t,e,n)},4),st=v(function(t,r,e){return at(t=>t,(t,r)=>r)(x(1),t,r,e)},3);function ft(t){return(r,...e)=>y(r)(...e,(r,...e)=>{"object"==typeof console&&(r?console.error&&console.error(r):console[t]&&e.forEach(r=>console[t](r)))})}var lt=ft("dir"),ht=v(function(t,r,e){e=A(e);var n,i=y(t),u=y(r);function a(t,...r){if(t)return e(t);!1!==t&&(n=r,u(...r,o))}function o(t,r){return t?e(t):!1!==t?r?void i(a):e(null,...n):void 0}return o(null,!0)},3);function pt(t,r,e){const n=y(r);return ht(t,(...t)=>{const r=t.pop();n(...t,(t,e)=>r(t,!e))},e)}function yt(t){return(r,e,n)=>t(r,n)}var vt=v(function(t,r,e){return T(t,yt(y(r)),e)},3),mt=v(function(t,r,e,n){return x(r)(t,yt(y(e)),n)},4),dt=v(function(t,r,e){return mt(t,1,r,e)},3);function gt(t){return l(t)?t:function(...r){var e=r.pop(),n=!0;r.push((...t)=>{n?o(()=>e(...t)):e(...t)}),t.apply(this,r),n=!1}}var bt=v(function(t,r,e){return at(t=>!t,t=>!t)(T,t,r,e)},3),St=v(function(t,r,e,n){return at(t=>!t,t=>!t)(x(r),t,e,n)},4),wt=v(function(t,r,e){return at(t=>!t,t=>!t)(M,t,r,e)},3);function kt(t,r,e,n){var i=new Array(r.length);t(r,(t,r,n)=>{e(t,(t,e)=>{i[r]=!!e,n(t)})},t=>{if(t)return n(t);for(var e=[],u=0;u<r.length;u++)i[u]&&e.push(r[u]);n(null,e)})}function Et(t,r,e,n){var i=[];t(r,(t,r,n)=>{e(t,(e,u)=>{if(e)return n(e);u&&i.push({index:r,value:t}),n(e)})},t=>{if(t)return n(t);n(null,i.sort((t,r)=>t.index-r.index).map(t=>t.value))})}function Lt(t,r,e,n){return(g(r)?kt:Et)(t,r,y(e),n)}var At=v(function(t,r,e){return Lt(T,t,r,e)},3),jt=v(function(t,r,e,n){return Lt(x(r),t,e,n)},4),xt=v(function(t,r,e){return Lt(M,t,r,e)},3),Ot=v(function(t,r){var e=A(r),n=y(gt(t));return function t(r){if(r)return e(r);!1!==r&&n(t)}()},2),_t=v(function(t,r,e,n){var i=y(e);return rt(t,r,(t,r)=>{i(t,(e,n)=>e?r(e):r(e,{key:n,val:t}))},(t,r)=>{for(var e={},{hasOwnProperty:i}=Object.prototype,u=0;u<r.length;u++)if(r[u]){var{key:a}=r[u],{val:o}=r[u];i.call(e,a)?e[a].push(o):e[a]=[o]}return n(t,e)})},4);function It(t,r,e){return _t(t,1/0,r,e)}function Tt(t,r,e){return _t(t,1,r,e)}var Bt=ft("log"),Ft=v(function(t,r,e,n){n=S(n);var i={},u=y(e);return x(r)(t,(t,r,e)=>{u(t,r,(t,n)=>{if(t)return e(t);i[r]=n,e(t)})},t=>n(t,i))},4);function Mt(t,r,e){return Ft(t,1/0,r,e)}function Ct(t,r,e){return Ft(t,1,r,e)}function Pt(t,r=(t=>t)){var n=Object.create(null),i=Object.create(null),u=y(t),a=e((t,e)=>{var a=r(...t);a in n?o(()=>e(null,...n[a])):a in i?i[a].push(e):(i[a]=[e],u(...t,(t,...r)=>{t||(n[a]=r);var e=i[a];delete i[a];for(var u=0,o=e.length;u<o;u++)e[u](t,...r)}))});return a.memo=n,a.unmemoized=t,a}var zt=a(i?process.nextTick:n?setImmediate:u),Dt=v((t,r,e)=>{var n=g(r)?[]:{};t(r,(t,r,e)=>{y(t)((t,...i)=>{i.length<2&&([i]=i),n[r]=i,e(t)})},t=>e(t,n))},3);function Vt(t,r){return Dt(T,t,r)}function qt(t,r,e){return Dt(x(r),t,e)}function Rt(t,r){var e=y(t);return J((t,r)=>{e(t[0],r)},r,1)}class Ut{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(t){let r;for(;t>0&&Nt(this.heap[t],this.heap[r=Qt(t)]);){let e=this.heap[t];this.heap[t]=this.heap[r],this.heap[r]=e,t=r}}percDown(t){let r;for(;(r=1+(t<<1))<this.heap.length&&(r+1<this.heap.length&&Nt(this.heap[r+1],this.heap[r])&&(r+=1),!Nt(this.heap[t],this.heap[r]));){let e=this.heap[t];this.heap[t]=this.heap[r],this.heap[r]=e,t=r}}push(t){t.pushCount=++this.pushCount,this.heap.push(t),this.percUp(this.heap.length-1)}unshift(t){return this.heap.push(t)}shift(){let[t]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),t}toArray(){return[...this]}*[Symbol.iterator](){for(let t=0;t<this.heap.length;t++)yield this.heap[t].data}remove(t){let r=0;for(let e=0;e<this.heap.length;e++)t(this.heap[e])||(this.heap[r]=this.heap[e],r++);this.heap.splice(r);for(let e=Qt(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function Qt(t){return(t+1>>1)-1}function Nt(t,r){return t.priority!==r.priority?t.priority<r.priority:t.pushCount<r.pushCount}function $t(t,r){var e=Rt(t,r);return e._tasks=new Ut,e.push=function(t,r=0,n=(()=>{})){if("function"!=typeof n)throw new Error("task callback must be a function");if(e.started=!0,Array.isArray(t)||(t=[t]),0===t.length&&e.idle())return o(()=>e.drain());for(var i=0,u=t.length;i<u;i++){var a={data:t[i],priority:r,callback:n};e._tasks.push(a)}o(e.process)},delete e.unshift,e}var Gt=v(function(t,r){if(r=S(r),!Array.isArray(t))return r(new TypeError("First argument to race must be an array of functions"));if(!t.length)return r();for(var e=0,n=t.length;e<n;e++)y(t[e])(r)},2);function Wt(t,r,e,n){var i=[...t].reverse();return Y(i,r,e,n)}function Ht(t){var r=y(t);return e(function(t,e){return t.push((t,...r)=>{let n={};if(t&&(n.error=t),r.length>0){var i=r;r.length<=1&&([i]=r),n.value=i}e(null,n)}),r.apply(this,t)})}function Jt(t){var r;return Array.isArray(t)?r=t.map(Ht):(r={},Object.keys(t).forEach(e=>{r[e]=Ht.call(this,t[e])})),r}function Kt(t,r,e,n){const i=y(e);return Lt(t,r,(t,r)=>{i(t,(t,e)=>{r(t,!e)})},n)}var Xt=v(function(t,r,e){return Kt(T,t,r,e)},3),Yt=v(function(t,r,e,n){return Kt(x(r),t,e,n)},4),Zt=v(function(t,r,e){return Kt(M,t,r,e)},3);function tr(t){return function(){return t}}const rr=5,er=0;function nr(t,r,e){var n={times:rr,intervalFunc:tr(er)};if(arguments.length<3&&"function"==typeof t?(e=r||D(),r=t):(ir(n,t),e=e||D()),"function"!=typeof r)throw new Error("Invalid arguments for async.retry");var i=y(r),u=1;return function t(){i((r,...i)=>{!1!==r&&(r&&u++<n.times&&("function"!=typeof n.errorFilter||n.errorFilter(r))?setTimeout(t,n.intervalFunc(u-1)):e(r,...i))})}(),e[z]}function ir(t,r){if("object"==typeof r)t.times=+r.times||rr,t.intervalFunc="function"==typeof r.interval?r.interval:tr(+r.interval||er),t.errorFilter=r.errorFilter;else{if("number"!=typeof r&&"string"!=typeof r)throw new Error("Invalid arguments for async.retry");t.times=+r||rr}}function ur(t,r){r||(r=t,t=null);let n=t&&t.arity||r.length;l(r)&&(n+=1);var i=y(r);return e((r,e)=>{function u(t){i(...r,t)}return(r.length<n-1||null==e)&&(r.push(e),e=D()),t?nr(t,u,e):nr(u,e),e[z]})}function ar(t,r){return Dt(M,t,r)}var or=v(function(t,r,e){return at(Boolean,t=>t)(T,t,r,e)},3),cr=v(function(t,r,e,n){return at(Boolean,t=>t)(x(r),t,e,n)},4),sr=v(function(t,r,e){return at(Boolean,t=>t)(M,t,r,e)},3),fr=v(function(t,r,e){var n=y(r);return B(t,(t,r)=>{n(t,(e,n)=>{if(e)return r(e);r(e,{value:t,criteria:n})})},(t,r)=>{if(t)return e(t);e(null,r.sort(i).map(t=>t.value))});function i(t,r){var e=t.criteria,n=r.criteria;return e<n?-1:e>n?1:0}},3);function lr(t,r,n){var i=y(t);return e((e,u)=>{var a,o=!1;e.push((...t)=>{o||(u(...t),clearTimeout(a))}),a=setTimeout(function(){var r=t.name||"anonymous",e=new Error('Callback function "'+r+'" timed out.');e.code="ETIMEDOUT",n&&(e.info=n),o=!0,u(e)},r),i(...e)})}function hr(t){for(var r=Array(t);t--;)r[t]=t;return r}function pr(t,r,e,n){var i=y(e);return rt(hr(t),r,i,n)}function yr(t,r,e){return pr(t,1/0,r,e)}function vr(t,r,e){return pr(t,1,r,e)}function mr(t,r,e,n){arguments.length<=3&&"function"==typeof r&&(n=e,e=r,r=Array.isArray(t)?[]:{}),n=S(n||D());var i=y(e);return T(t,(t,e,n)=>{i(r,t,e,n)},t=>n(t,r)),n[z]}var dr=v(function(t,r){var e,n=null;return dt(t,(t,r)=>{y(t)((t,...i)=>{if(!1===t)return r(t);i.length<2?[e]=i:e=i,n=t,r(t?null:{})})},()=>r(n,e))});function gr(t){return(...r)=>(t.unmemoized||t)(...r)}var br=v(function(t,r,e){e=A(e);var n=y(r),i=y(t),u=[];function a(t,...r){if(t)return e(t);u=r,!1!==t&&i(o)}function o(t,r){return t?e(t):!1!==t?r?void n(a):e(null,...u):void 0}return i(o)},3);function Sr(t,r,e){const n=y(t);return br(t=>n((r,e)=>t(r,!e)),r,e)}var wr=v(function(t,r){if(r=S(r),!Array.isArray(t))return r(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return r();var e=0;function n(r){y(t[e++])(...r,A(i))}function i(i,...u){if(!1!==i)return i||e===t.length?r(i,...u):void n(u)}n([])}),kr={apply:r,applyEach:F,applyEachSeries:P,asyncify:c,auto:V,autoInject:G,cargo:K,cargoQueue:X,compose:tt,concat:nt,concatLimit:et,concatSeries:it,constant:ut,detect:ot,detectLimit:ct,detectSeries:st,dir:lt,doUntil:pt,doWhilst:ht,each:vt,eachLimit:mt,eachOf:T,eachOfLimit:O,eachOfSeries:M,eachSeries:dt,ensureAsync:gt,every:bt,everyLimit:St,everySeries:wt,filter:At,filterLimit:jt,filterSeries:xt,forever:Ot,groupBy:It,groupByLimit:_t,groupBySeries:Tt,log:Bt,map:B,mapLimit:rt,mapSeries:C,mapValues:Mt,mapValuesLimit:Ft,mapValuesSeries:Ct,memoize:Pt,nextTick:zt,parallel:Vt,parallelLimit:qt,priorityQueue:$t,queue:Rt,race:Gt,reduce:Y,reduceRight:Wt,reflect:Ht,reflectAll:Jt,reject:Xt,rejectLimit:Yt,rejectSeries:Zt,retry:nr,retryable:ur,seq:Z,series:ar,setImmediate:o,some:or,someLimit:cr,someSeries:sr,sortBy:fr,timeout:lr,times:yr,timesLimit:pr,timesSeries:vr,transform:mr,tryEach:dr,unmemoize:gr,until:Sr,waterfall:wr,whilst:br,all:bt,allLimit:St,allSeries:wt,any:or,anyLimit:cr,anySeries:sr,find:ot,findLimit:ct,findSeries:st,flatMap:nt,flatMapLimit:et,flatMapSeries:it,forEach:vt,forEachSeries:dt,forEachLimit:mt,forEachOf:T,forEachOfSeries:M,forEachOfLimit:O,inject:Y,foldl:Y,foldr:Wt,select:At,selectLimit:jt,selectSeries:xt,wrapSync:c,during:br,doDuring:ht};t.default=kr,t.apply=r,t.applyEach=F,t.applyEachSeries=P,t.asyncify=c,t.auto=V,t.autoInject=G,t.cargo=K,t.cargoQueue=X,t.compose=tt,t.concat=nt,t.concatLimit=et,t.concatSeries=it,t.constant=ut,t.detect=ot,t.detectLimit=ct,t.detectSeries=st,t.dir=lt,t.doUntil=pt,t.doWhilst=ht,t.each=vt,t.eachLimit=mt,t.eachOf=T,t.eachOfLimit=O,t.eachOfSeries=M,t.eachSeries=dt,t.ensureAsync=gt,t.every=bt,t.everyLimit=St,t.everySeries=wt,t.filter=At,t.filterLimit=jt,t.filterSeries=xt,t.forever=Ot,t.groupBy=It,t.groupByLimit=_t,t.groupBySeries=Tt,t.log=Bt,t.map=B,t.mapLimit=rt,t.mapSeries=C,t.mapValues=Mt,t.mapValuesLimit=Ft,t.mapValuesSeries=Ct,t.memoize=Pt,t.nextTick=zt,t.parallel=Vt,t.parallelLimit=qt,t.priorityQueue=$t,t.queue=Rt,t.race=Gt,t.reduce=Y,t.reduceRight=Wt,t.reflect=Ht,t.reflectAll=Jt,t.reject=Xt,t.rejectLimit=Yt,t.rejectSeries=Zt,t.retry=nr,t.retryable=ur,t.seq=Z,t.series=ar,t.setImmediate=o,t.some=or,t.someLimit=cr,t.someSeries=sr,t.sortBy=fr,t.timeout=lr,t.times=yr,t.timesLimit=pr,t.timesSeries=vr,t.transform=mr,t.tryEach=dr,t.unmemoize=gr,t.until=Sr,t.waterfall=wr,t.whilst=br,t.all=bt,t.allLimit=St,t.allSeries=wt,t.any=or,t.anyLimit=cr,t.anySeries=sr,t.find=ot,t.findLimit=ct,t.findSeries=st,t.flatMap=nt,t.flatMapLimit=et,t.flatMapSeries=it,t.forEach=vt,t.forEachSeries=dt,t.forEachLimit=mt,t.forEachOf=T,t.forEachOfSeries=M,t.forEachOfLimit=O,t.inject=Y,t.foldl=Y,t.foldr=Wt,t.select=At,t.selectLimit=jt,t.selectSeries=xt,t.wrapSync=c,t.during=br,t.doDuring=ht,Object.defineProperty(t,"__esModule",{value:!0})});